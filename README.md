# üöó –ú–∞–≥–∞–∑–∏–Ω –®–∏–Ω –∏ –î–∏—Å–∫–æ–≤ - Telegram Mini App

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ —à–∏–Ω –∏ –¥–∏—Å–∫–æ–≤ —á–µ—Ä–µ–∑ Telegram —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π API –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ 4tochki.ru

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Telegram Mini App –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ —à–∏–Ω –∏ –¥–∏—Å–∫–æ–≤ —Å —Å–∏—Å—Ç–µ–º–æ–π –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.

**–§—É–Ω–∫—Ü–∏–∏:**
- ‚úÖ –ü–æ–∏—Å–∫ —à–∏–Ω –∏ –¥–∏—Å–∫–æ–≤ –ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º
- ‚úÖ –ü–æ–¥–±–æ—Ä –ø–æ –∞–≤—Ç–æ–º–æ–±–∏–ª—é (–º–∞—Ä–∫–∞ ‚Üí –º–æ–¥–µ–ª—å ‚Üí –≥–æ–¥ ‚Üí –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è)
- ‚úÖ –ö–æ—Ä–∑–∏–Ω–∞ –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤ –∞–¥–º–∏–Ω–æ–º
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤
- ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –Ω–∞—Ü–µ–Ω–∫–æ–π
- ‚úÖ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API 4tochki.ru

## üèóÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

**Backend:** FastAPI, MongoDB, Zeep (SOAP), python-telegram-bot  
**Frontend:** React, TailwindCSS, Axios, Lucide Icons

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone <your-repo>
cd tire-wheel-finder

# Backend
cd backend
pip install -r requirements.txt

# Frontend
cd ../frontend
yarn install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

**backend/.env:**
```bash
MONGO_URL="mongodb://localhost:27017"
DB_NAME="tires_shop"
FOURTHCHKI_LOGIN=CarZona
FOURTHCHKI_PASSWORD=Qq28061q.
FOURTHCHKI_API_URL=http://api-b2b.4tochki.ru/WCF/ClientService.svc?wsdl
TELEGRAM_BOT_TOKEN=8290483601:AAFqXwpx1_paoekO0dt3kR46z471zlDKChI
ADMIN_TELEGRAM_ID=508352361
DEFAULT_MARKUP_PERCENTAGE=15
USE_MOCK_DATA=true
```

**frontend/.env:**
```bash
REACT_APP_BACKEND_URL=https://tyres.vpnsuba.ru
```

### 3. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Supervisor

```bash
sudo supervisorctl restart all
```

### 4. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–µ API

–ö–æ–≥–¥–∞ API 4tochki –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç, –∏–∑–º–µ–Ω–∏—Ç–µ –≤ `backend/.env`:
```bash
USE_MOCK_DATA=false
```

## üì± –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Mini App

1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/botfather)
2. –ö–æ–º–∞–Ω–¥—ã:
   ```
   /newapp
   /setappdomain - tyres.vpnsuba.ru
   /setappphoto - –∑–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∫–æ–Ω–∫—É
   ```

## üìä API Endpoints

- `POST /api/auth/telegram` - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `GET /api/products/tires/search` - –ø–æ–∏—Å–∫ —à–∏–Ω
- `GET /api/products/disks/search` - –ø–æ–∏—Å–∫ –¥–∏—Å–∫–æ–≤
- `GET /api/cars/brands` - –º–∞—Ä–∫–∏ –∞–≤—Ç–æ
- `GET /api/cars/goods` - –ø–æ–¥–±–æ—Ä –ø–æ –∞–≤—Ç–æ
- `POST /api/orders` - —Å–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑
- `GET /api/admin/orders/pending` - –∑–∞–∫–∞–∑—ã –Ω–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ (–∞–¥–º–∏–Ω)
- `POST /api/admin/orders/{id}/confirm` - –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑ (–∞–¥–º–∏–Ω)

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram ID
- Admin ID: `508352361`
- –í—Å–µ –∑–∞–∫–∞–∑—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –∞–¥–º–∏–Ω–æ–º –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –ø–æ—Å—Ç–∞–≤—â–∏–∫—É

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
sudo supervisorctl status

# –õ–æ–≥–∏
tail -f /var/log/supervisor/backend.err.log
tail -f /var/log/supervisor/frontend.out.log

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo supervisorctl restart backend
sudo supervisorctl restart frontend
```

## üêõ Troubleshooting

**Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
```bash
cd /app/backend
pip install -r requirements.txt
sudo supervisorctl restart backend
```

**API 4tochki –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```bash
# –í–∫–ª—é—á–∏—Ç–µ mock —Ä–µ–∂–∏–º
echo "USE_MOCK_DATA=true" >> /app/backend/.env
sudo supervisorctl restart backend
```

**Frontend –æ—à–∏–±–∫–∏:**
```bash
cd /app/frontend
rm -rf node_modules
yarn install
sudo supervisorctl restart frontend
```

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 4tochki: (495) 38-000-77, (495) 13-000-77
- –î–æ–º–µ–Ω: tyres.vpnsuba.ru
- Admin Telegram ID: 508352361

---
**–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è CarZona** üöó
