# ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

## üéØ –í—Å—ë –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é!

### –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

1. ‚úÖ IPv6 –æ—Ç–∫–ª—é—á–µ–Ω –≤ install.sh
2. ‚úÖ Production —Ä–µ–∂–∏–º (frontend build)
3. ‚úÖ Nginx –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ (127.0.0.1)
4. ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –¥–∏—Å–∫–æ–≤ (PCD, ET, DIA, —Ü–≤–µ—Ç, —Ç–∏–ø)
5. ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ (—Ñ–æ—Ç–æ —Å–ª–µ–≤–∞)
6. ‚úÖ –í—ã–±–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤ –∫–æ—Ä–∑–∏–Ω—É
7. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–∞
8. ‚úÖ Telegram Web App SDK –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω
9. ‚úÖ Telegram –±–æ—Ç —Å –∫–æ–º–∞–Ω–¥–æ–π /start
10. ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω—É –æ –Ω–æ–≤—ã—Ö –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è—Ö
11. ‚úÖ –£–±—Ä–∞–Ω–∞ –∫–Ω–æ–ø–∫–∞ Emergent
12. ‚úÖ –í—Å–µ —Ç—Ä–∏ —Å–µ—Ä–≤–∏—Å–∞ –≤ supervisor

---

## üì§ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é:

### –®–∞–≥ 1: –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ GitHub

**–ù–∞–∂–º–∏—Ç–µ "Save to GitHub"** –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Emergent

---

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Menu Button –≤ @BotFather

**–í–∞–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –î–û —É—Å—Ç–∞–Ω–æ–≤–∫–∏!**

1. –û—Ç–∫—Ä–æ–π—Ç–µ @BotFather –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/mybots`
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
4. **Bot Settings** ‚Üí **Menu Button**
5. **Configure Menu Button:**
   - Button text: `–ú–∞–≥–∞–∑–∏–Ω`
   - URL: `https://tyres.vpnsuba.ru`

---

### –®–∞–≥ 3: –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É

```bash
sudo supervisorctl stop all
sudo rm -rf /opt/tyres-app
```

---

### –®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–æ–≤—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É

```bash
wget https://raw.githubusercontent.com/wrx861/tyres/main/install.sh

sudo bash install.sh \
  -d tyres.vpnsuba.ru \
  -e –≤–∞—à@email.com \
  --api-login sa56026 \
  --api-password F8Aeg3Cnkq \
  --bot-token 8290483601:AAFqXwpx1_paoekO0dt3kR46z471zlDKChI \
  --admin-id 508352361
```

**–ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ!**

---

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# 1. –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
sudo supervisorctl status

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
# tyres-backend        RUNNING ‚úÖ
# tyres-telegram-bot   RUNNING ‚úÖ
# tyres-frontend       STOPPED ‚úÖ (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!)

# 2. –õ–æ–≥–∏ –±–æ—Ç–∞
tail -20 /var/log/tyres-telegram-bot.out.log
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: "Bot started successfully!"

# 3. Backend API
curl https://tyres.vpnsuba.ru/api/health
# –û—Ç–≤–µ—Ç: {"status":"healthy","database":"connected"}

# 4. –°–∞–π—Ç
curl -I https://tyres.vpnsuba.ru
# –û—Ç–≤–µ—Ç: HTTP/1.1 200 OK

# 5. IPv6 –æ—Ç–∫–ª—é—á–µ–Ω
cat /proc/sys/net/ipv6/conf/all/disable_ipv6
# –û—Ç–≤–µ—Ç: 1
```

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:

### 1. Telegram –±–æ—Ç:

```
–î–µ–π—Å—Ç–≤–∏–µ: –û—Ç–ø—Ä–∞–≤—å—Ç–µ /start –±–æ—Ç—É
–û–∂–∏–¥–∞–µ—Ç—Å—è:
  ‚úÖ –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –ë–ï–ó —É–ø–æ–º–∏–Ω–∞–Ω–∏—è "4tochki"
  ‚úÖ –ë–ï–ó inline –∫–Ω–æ–ø–∫–∏ –ø–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–µ–º
  ‚úÖ –ê–¥–º–∏–Ω –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–º –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ
```

### 2. Mini App —á–µ—Ä–µ–∑ Menu Button:

```
–î–µ–π—Å—Ç–≤–∏–µ: –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ú–∞–≥–∞–∑–∏–Ω" –≤–Ω–∏–∑—É —Å–ª–µ–≤–∞
–û–∂–∏–¥–∞–µ—Ç—Å—è:
  ‚úÖ Mini App –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
  ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–ü—Ä–∏–≤–µ—Ç, [–≤–∞—à–µ —Ä–µ–∞–ª—å–Ω–æ–µ –∏–º—è]" (–ù–ï "Test")
  ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å" –≤–∏–¥–Ω–∞ (–µ—Å–ª–∏ ID = 508352361)
```

### 3. –ü–æ–∏—Å–∫ —à–∏–Ω:

```
–î–µ–π—Å—Ç–≤–∏–µ: –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É "–®–∏–Ω—ã"
–û–∂–∏–¥–∞–µ—Ç—Å—è:
  ‚úÖ –§–∏–ª—å—Ç—Ä—ã: —à–∏—Ä–∏–Ω–∞, –≤—ã—Å–æ—Ç–∞, –¥–∏–∞–º–µ—Ç—Ä, —Å–µ–∑–æ–Ω, –±—Ä–µ–Ω–¥, –≥–æ—Ä–æ–¥
  ‚úÖ –¢–æ–≤–∞—Ä—ã —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ —Å–ª–µ–≤–∞
  ‚úÖ –ö–ª–∏–∫ –ø–æ —Ñ–æ—Ç–æ ‚Üí –±–æ–ª—å—à–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
```

### 4. –ü–æ–∏—Å–∫ –¥–∏—Å–∫–æ–≤:

```
–î–µ–π—Å—Ç–≤–∏–µ: –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É "–î–∏—Å–∫–∏"
–û–∂–∏–¥–∞–µ—Ç—Å—è:
  ‚úÖ –ë–∞–∑–æ–≤—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã: –¥–∏–∞–º–µ—Ç—Ä, —à–∏—Ä–∏–Ω–∞, –±—Ä–µ–Ω–¥
  ‚úÖ –ù–û–í–´–ï —Ñ–∏–ª—å—Ç—Ä—ã:
    - PCD (—Å–≤–µ—Ä–ª–æ–≤–∫–∞)
    - ET –º–∏–Ω/–º–∞–∫—Å (–≤—ã–ª–µ—Ç)
    - DIA –º–∏–Ω/–º–∞–∫—Å (—Å—Ç—É–ø–∏—á–Ω–æ–µ –æ—Ç–≤–µ—Ä—Å—Ç–∏–µ)
    - –¶–≤–µ—Ç
    - –¢–∏–ø –¥–∏—Å–∫–∞
```

### 5. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É:

```
–î–µ–π—Å—Ç–≤–∏–µ: –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω—É
–û–∂–∏–¥–∞–µ—Ç—Å—è:
  ‚úÖ –í—ã–±–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 4 —à—Ç)
  ‚úÖ –ö–Ω–æ–ø–∫–∏ +/-
  ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "‚úì –î–æ–±–∞–≤–ª–µ–Ω–æ X —à—Ç –≤ –∫–æ—Ä–∑–∏–Ω—É"

–î–µ–π—Å—Ç–≤–∏–µ: –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —á–µ–º –µ—Å—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å—Ç—å 3 —à—Ç, –¥–æ–±–∞–≤—å—Ç–µ 5)
–û–∂–∏–¥–∞–µ—Ç—Å—è:
  ‚úÖ –û—à–∏–±–∫–∞: "‚ö†Ô∏è –î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ 3 —à—Ç"
  ‚úÖ –¢–æ–≤–∞—Ä –ù–ï –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è
```

### 6. –ö–æ—Ä–∑–∏–Ω–∞:

```
–î–µ–π—Å—Ç–≤–∏–µ: –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ—Ä–∑–∏–Ω—É
–û–∂–∏–¥–∞–µ—Ç—Å—è:
  ‚úÖ –¢–æ–≤–∞—Ä—ã —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
  ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º
  ‚úÖ –†–∞—Å—á—ë—Ç —Å—É–º–º—ã
```

### 7. –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:

```
–î–µ–π—Å—Ç–≤–∏–µ: –ù–∞–∂–º–∏—Ç–µ "–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å" (–µ—Å–ª–∏ ID = 508352361)
–û–∂–∏–¥–∞–µ—Ç—Å—è:
  ‚úÖ 3 –≤–∫–ª–∞–¥–∫–∏: –û–∂–∏–¥–∞—é—â–∏–µ, –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –ù–∞—Å—Ç—Ä–æ–π–∫–∏
  ‚úÖ –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤
  ‚úÖ –ö–Ω–æ–ø–∫–∏ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å/–û—Ç–∫–ª–æ–Ω–∏—Ç—å
```

---

## üö® –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º:

### –ü—Ä–æ–±–ª–µ–º–∞: tyres-telegram-bot –Ω–µ –∑–∞–ø—É—â–µ–Ω

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
ls -la /opt/tyres-app/telegram_bot.py

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
tail -50 /var/log/tyres-telegram-bot.err.log

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env
ls -la /opt/tyres-app/.env

# –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Å—ã–ª–∫–∞ –Ω–∞ backend/.env
# –ï—Å–ª–∏ –Ω–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ:
ln -sf /opt/tyres-app/backend/.env /opt/tyres-app/.env

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
sudo supervisorctl restart tyres-telegram-bot
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ /start

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω
grep TELEGRAM_BOT_TOKEN /opt/tyres-app/backend/.env

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞
tail -f /var/log/tyres-telegram-bot.out.log

# –û—Ç–ø—Ä–∞–≤—å—Ç–µ /start –∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```

### –ü—Ä–æ–±–ª–µ–º–∞: Mini App –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "Test"

```bash
# –≠—Ç–æ –∑–Ω–∞—á–∏—Ç —á—Ç–æ Telegram Web App SDK –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12):

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏:
# - "Telegram Web App initialized"
# - "Telegram user data: {...}"

# –ï—Å–ª–∏ –Ω–µ—Ç - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–æ –≤ –æ–±—ã—á–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ
# –ù—É–∂–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –ß–ï–†–ï–ó TELEGRAM (Menu Button)
```

### –ü—Ä–æ–±–ª–µ–º–∞: Nginx –æ—à–∏–±–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ IPv6
cat /proc/sys/net/ipv6/conf/all/disable_ipv6
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: 1

# –ï—Å–ª–∏ 0 - –æ—Ç–∫–ª—é—á–∏—Ç–µ:
sudo sysctl -w net.ipv6.conf.all.disable_ipv6=1
sudo sysctl -w net.ipv6.conf.default.disable_ipv6=1

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ nginx
sudo systemctl restart nginx
```

---

## üìä –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫–ª–∏—Å—Ç:

- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ GitHub
- [ ] Menu Button –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ @BotFather
- [ ] –°—Ç–∞—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —É–¥–∞–ª–µ–Ω–∞
- [ ] –ù–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- [ ] tyres-backend RUNNING
- [ ] tyres-telegram-bot RUNNING
- [ ] tyres-frontend STOPPED
- [ ] IPv6 –æ—Ç–∫–ª—é—á–µ–Ω (–∑–Ω–∞—á–µ–Ω–∏–µ = 1)
- [ ] –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ /start
- [ ] –ë–æ—Ç –ù–ï —É–ø–æ–º–∏–Ω–∞–µ—Ç "4tochki"
- [ ] –ë–æ—Ç –ë–ï–ó inline –∫–Ω–æ–ø–∫–∏
- [ ] Menu Button –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Mini App
- [ ] Mini App –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–µ –∏–º—è
- [ ] –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞ (–µ—Å–ª–∏ ID —Å–æ–≤–ø–∞–¥–∞–µ—Ç)
- [ ] –§–∏–ª—å—Ç—Ä—ã –¥–∏—Å–∫–æ–≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ
- [ ] –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- [ ] –í—ã–±–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ö–æ—Ä–∑–∏–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ó–∞–∫–∞–∑—ã —Å–æ–∑–¥–∞—é—Ç—Å—è
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ —É –≤–∞—Å –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–µ–µ production –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!

**–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç, –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã!** üöÄ
