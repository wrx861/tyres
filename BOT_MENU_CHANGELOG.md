# üéâ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Telegram –±–æ—Ç–∞ - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é

## ‚ú® –ß—Ç–æ –Ω–æ–≤–æ–≥–æ

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ç–µ–∫—Å—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
- **–ë—ã–ª–æ:** "–î–æ—Å—Ç–∞–≤–∫–∞ –≤ –≤–∞—à –≥–æ—Ä–æ–¥"
- **–°—Ç–∞–ª–æ:** "–î–æ—Å—Ç–∞–≤–∫–∞ –Ω–∞ –≤–∞—à –∞–¥—Ä–µ—Å"

### 2. –î–æ–±–∞–≤–ª–µ–Ω–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é "–®–∏–Ω–æ–º–æ–Ω—Ç–∞–∂"

#### üìç –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (/start)
–ü–æ–¥ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞:
- üîß **–®–∏–Ω–æ–º–æ–Ω—Ç–∞–∂**

#### üîß –ú–µ–Ω—é "–®–∏–Ω–æ–º–æ–Ω—Ç–∞–∂"
–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ "–®–∏–Ω–æ–º–æ–Ω—Ç–∞–∂" –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏:
- üí∞ **–ü—Ä–∞–π—Å** - –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∞–π—Å-–ª–∏—Å—Ç —É—Å–ª—É–≥
- üìù **–ó–∞–ø–∏—Å–∞—Ç—å—Å—è** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–ø–∏—Å–∏
- ‚¨ÖÔ∏è **–ù–∞–∑–∞–¥** - –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≥–ª–∞–≤–Ω–æ–º—É –º–µ–Ω—é

#### üí∞ –ü—Ä–∞–π—Å-–ª–∏—Å—Ç
–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ "–ü—Ä–∞–π—Å" –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:
- –¶–µ–Ω—ã –Ω–∞ —à–∏–Ω–æ–º–æ–Ω—Ç–∞–∂ –¥–ª—è –ª–µ–≥–∫–æ–≤—ã—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π (R13-R20)
- –¶–µ–Ω—ã –¥–ª—è –∫—Ä–æ—Å—Å–æ–≤–µ—Ä–æ–≤ –∏ –≤–Ω–µ–¥–æ—Ä–æ–∂–Ω–∏–∫–æ–≤ (R16-R22)
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏ (–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞, —Ä–µ–º–æ–Ω—Ç, –≤–µ–Ω—Ç–∏–ª–∏)
- –ö–Ω–æ–ø–∫–∏: "–ó–∞–ø–∏—Å–∞—Ç—å—Å—è", "–ù–∞–∑–∞–¥"

#### üìù –ó–∞–ø–∏—Å—å –Ω–∞ —à–∏–Ω–æ–º–æ–Ω—Ç–∞–∂
–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ "–ó–∞–ø–∏—Å–∞—Ç—å—Å—è" –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:
- –°–æ–æ–±—â–µ–Ω–∏–µ: "–ú—ã –µ—â–µ –Ω–µ –Ω–∞—à–ª–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –ø–æ —à–∏–Ω–æ–º–æ–Ω—Ç–∞–∂—É"
- –ö–æ–Ω—Ç–∞–∫—Ç –∞–¥–º–∏–Ω–∞ –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–∞: **@malg1nov**
- –ö–Ω–æ–ø–∫–∞: "–ù–∞–∑–∞–¥"

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã `InlineKeyboardButton` –∏ `InlineKeyboardMarkup`
- –î–æ–±–∞–≤–ª–µ–Ω `CallbackQueryHandler` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞–∂–∞—Ç–∏–π –∫–Ω–æ–ø–æ–∫
- –ú–µ–Ω—é –æ–±–Ω–æ–≤–ª—è–µ—Ç –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ (–Ω–µ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–µ)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –Ω–∞–∂–∞—Ç–∏–π –∫–Ω–æ–ø–æ–∫

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã
- `backend/services/telegram_bot.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã:
  - –ò–º–ø–æ—Ä—Ç—ã: `InlineKeyboardButton`, `InlineKeyboardMarkup`, `CallbackQueryHandler`
  - –ú–µ—Ç–æ–¥: `_handle_callback()` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–æ–∫
  - –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è: `tire_service`, `tire_service_price`, `tire_service_book`, `back_to_main`

### –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω
- `install.sh` - —É–¥–∞–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ `tyres-telegram-bot`
- –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ –±–æ—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ backend
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤

## üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç
```bash
cd /app
python3 test_bot_menu.py
```

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞: https://t.me/shoptyresbot
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
3. –ù–∞–∂–∏–º–∞–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É –º–µ–Ω—é

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å –∫–Ω–æ–ø–∫–∞–º–∏
tail -f /var/log/supervisor/backend.err.log | grep "clicked button"

# –û–±—â–∏–µ –ª–æ–≥–∏ –±–æ—Ç–∞
tail -f /var/log/supervisor/backend.err.log | grep telegram
```

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
- ‚úÖ –¢–µ–∫—Å—Ç "–î–æ—Å—Ç–∞–≤–∫–∞ –Ω–∞ –≤–∞—à –∞–¥—Ä–µ—Å"
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–®–∏–Ω–æ–º–æ–Ω—Ç–∞–∂" –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- ‚úÖ –ú–µ–Ω—é "–®–∏–Ω–æ–º–æ–Ω—Ç–∞–∂" —Å 3 –∫–Ω–æ–ø–∫–∞–º–∏
- ‚úÖ –ü—Ä–∞–π—Å-–ª–∏—Å—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞—Ö —Å @malg1nov
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è (–Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –≤—Å–µ –∫–ª–∏–∫–∏ –∫–Ω–æ–ø–æ–∫

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –ù–∞ –Ω–æ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ
```bash
# –°–∫—Ä–∏–ø—Ç install.sh —É–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω
sudo bash install.sh -d yourdomain.com -e your@email.com \
  --bot-token YOUR_TOKEN --admin-id YOUR_ID
```

### –ù–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º —Å–µ—Ä–≤–µ—Ä–µ
```bash
# –ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend
sudo supervisorctl restart backend

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
sudo supervisorctl status backend
tail -20 /var/log/supervisor/backend.err.log | grep telegram
```

## üí° –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **–û–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å**: –ë–æ—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ backend, –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –Ω—É–∂–µ–Ω
2. **Polling —Ä–µ–∂–∏–º**: –ë–æ—Ç –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç Telegram –∫–∞–∂–¥—ã–µ ~10 —Å–µ–∫—É–Ω–¥
3. **Callback –ª–æ–≥–∏**: –í—Å–µ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–æ–∫ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
4. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏ –∏ –º–µ–Ω—é

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

–í–æ–ø—Ä–æ—Å—ã –ø–æ –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤—É —à–∏–Ω–æ–º–æ–Ω—Ç–∞–∂–∞: @malg1nov

---

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-11-07  
**–í–µ—Ä—Å–∏—è:** 2.0 (–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–æ—Ç + –º–µ–Ω—é)
