# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ PCD –¥–ª—è –¥–∏—Å–∫–æ–≤

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–í –∫–∞—Ä—Ç–æ—á–∫–∞—Ö –¥–∏—Å–∫–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
```
–†–∞–∑–º–µ—Ä: 7x17  ‚úÖ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
PCD: 7x17     ‚ùå (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ—Ç –∂–µ —Ä–∞–∑–º–µ—Ä)
```

PCD (—Ä–∞–∑–±–æ–ª—Ç–æ–≤–∫–∞) –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—Ç–æ—Ä—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º —Ñ–æ—Ä–º–∞—Ç–∞ `NxN.N` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `5x114.3`), –Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–ª—Å—è —Ç–æ—Ç –∂–µ —Ä–∞–∑–º–µ—Ä –¥–∏—Å–∫–∞.

---

## üîç –ü—Ä–∏—á–∏–Ω–∞

–û–±–∞ regex –ø–∞—Ç—Ç–µ—Ä–Ω–∞ (–¥–ª—è —Ä–∞–∑–º–µ—Ä–∞ –∏ –¥–ª—è PCD) –Ω–∞—Ö–æ–¥–∏–ª–∏ **–ø–µ—Ä–≤–æ–µ** —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ `NxN` –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞:

**–ë—ã–ª–æ:**
```python
# –ù–∞—Ö–æ–¥–∏—Ç: 7x17 (—Ä–∞–∑–º–µ—Ä)
size_match = re.search(r'(\d+\.?\d*)x(\d+)', name)

# –¢–æ–∂–µ –Ω–∞—Ö–æ–¥–∏—Ç: 7x17 (—Ä–∞–∑–º–µ—Ä, –∞ –Ω–µ PCD!)
pcd_match = re.search(r'(\d)x([\d.]+)', name)
```

**–ü—Ä–∏–º–µ—Ä –Ω–∞–∑–≤–∞–Ω–∏—è:**
```
"7x17 5x114.3 ET45 DIA60.1 –ê–ª–º–∞–∑ —á–µ—Ä–Ω—ã–π"
 ^^^^  ^^^^^^^^
 —Ä–∞–∑–º–µ—Ä   PCD
```

–û–±–∞ regex –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–ª–∏ `7x17` (—Ä–∞–∑–º–µ—Ä), –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã PCD –∑–∞—Ö–≤–∞—Ç–∏–ª `5x114.3`.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–£–¥–∞–ª—è–µ–º –Ω–∞–π–¥–µ–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∏–∑ —Å—Ç—Ä–æ–∫–∏ –ø–µ—Ä–µ–¥ –ø–æ–∏—Å–∫–æ–º PCD:

```python
# 1. –ü–∞—Ä—Å–∏–º —Ä–∞–∑–º–µ—Ä (–ø–µ—Ä–≤–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ NxN)
size_match = re.search(r'(\d+\.?\d*)x(\d+)', name)
if size_match:
    item['width'] = float(size_match.group(1))
    item['diameter'] = int(size_match.group(2))
    
    # 2. –£–¥–∞–ª—è–µ–º –Ω–∞–π–¥–µ–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∏–∑ —Å—Ç—Ä–æ–∫–∏
    size_str = size_match.group(0)  # "7x17"
    name_without_size = name.replace(size_str, '', 1)
    # –¢–µ–ø–µ—Ä—å —Å—Ç—Ä–æ–∫–∞: " 5x114.3 ET45 DIA60.1 –ê–ª–º–∞–∑ —á–µ—Ä–Ω—ã–π"
else:
    name_without_size = name

# 3. –ü–∞—Ä—Å–∏–º PCD (–≤—Ç–æ—Ä–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ NxN)
pcd_match = re.search(r'(\d)x([\d.]+)', name_without_size)
if pcd_match:
    item['pcd'] = f"{pcd_match.group(1)}x{pcd_match.group(2)}"
```

---

## üìù –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ

### Backend: `/app/backend/routers/products.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∏—Å–∫–æ–≤ (—Å—Ç—Ä–æ–∫–∏ 344-368):**

1. –ü–æ—Å–ª–µ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞, —É–¥–∞–ª—è–µ–º –µ–≥–æ –∏–∑ —Å—Ç—Ä–æ–∫–∏
2. PCD –∏—â–µ–º –≤ —Å—Ç—Ä–æ–∫–µ –±–µ–∑ —Ä–∞–∑–º–µ—Ä–∞
3. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —á—Ç–æ PCD –Ω–∞–π–¥–µ—Ç –≤—Ç–æ—Ä–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ `NxN`

---

## üß™ –¢–µ—Å—Ç—ã

### –¢–µ—Å—Ç 1: iFree Original KC1062
**Input:** `"7x17 5x114.3 ET45 DIA60.1 –ê–ª–º–∞–∑ —á–µ—Ä–Ω—ã–π"`

**Output:**
```
‚úÖ –†–∞–∑–º–µ—Ä: 7x17
‚úÖ PCD: 5x114.3
‚úÖ ET: 45
‚úÖ DIA: 60.1
```

### –¢–µ—Å—Ç 2: Replay TY352
**Input:** `"6.5x16 4x100 ET35 d56.6"`

**Output:**
```
‚úÖ –†–∞–∑–º–µ—Ä: 6.5x16
‚úÖ PCD: 4x100
‚úÖ ET: 35
‚úÖ DIA: 56.6
```

### –¢–µ—Å—Ç 3: ZEPP 4—Ö4
**Input:** `"8x18 6x139.7 ET25 DIA106.2"`

**Output:**
```
‚úÖ –†–∞–∑–º–µ—Ä: 8x18
‚úÖ PCD: 6x139.7
‚úÖ ET: 25
‚úÖ DIA: 106.2
```

### –¢–µ—Å—Ç 4: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –¥–∏—Å–∫
**Input:** `"7x16 5x100 ET38 DIA57"`

**Output:**
```
‚úÖ –†–∞–∑–º–µ—Ä: 7x16
‚úÖ PCD: 5x100
‚úÖ ET: 38
‚úÖ DIA: 57
```

### –¢–µ—Å—Ç 5: –ë–æ–ª—å—à–æ–π –¥–∏—Å–∫
**Input:** `"9x20 5x112 ET30 DIA66.6"`

**Output:**
```
‚úÖ –†–∞–∑–º–µ—Ä: 9x20
‚úÖ PCD: 5x112
‚úÖ ET: 30
‚úÖ DIA: 66.6
```

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –ë—ã–ª–æ (–Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ):
```
–î–∏—Å–∫: iFree Original KC1062 7x17 5x114.3 ET45 DIA60.1

–†–∞–∑–º–µ—Ä: 7x17
PCD: 7x17        ‚ùå (–¥—É–±–ª–∏—Ä—É–µ—Ç —Ä–∞–∑–º–µ—Ä)
ET: 45
DIA: 60.1
```

### –°—Ç–∞–ª–æ (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ):
```
–î–∏—Å–∫: iFree Original KC1062 7x17 5x114.3 ET45 DIA60.1

–†–∞–∑–º–µ—Ä: 7x17
PCD: 5x114.3     ‚úÖ (–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–∑–±–æ–ª—Ç–æ–≤–∫–∞)
ET: 45
DIA: 60.1
```

---

## üìä –í–∞–∂–Ω–æ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ß—Ç–æ —ç—Ç–æ | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å |
|----------|---------|-------------|
| **–†–∞–∑–º–µ—Ä (7x17)** | –®–∏—Ä–∏–Ω–∞ x –î–∏–∞–º–µ—Ç—Ä –¥–∏—Å–∫–∞ | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ |
| **PCD (5x114.3)** | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ä—Å—Ç–∏–π x –î–∏–∞–º–µ—Ç—Ä –æ–∫—Ä—É–∂–Ω–æ—Å—Ç–∏ –∫—Ä–µ–ø–ª–µ–Ω–∏—è | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ |
| **ET (45)** | –í—ã–ª–µ—Ç –¥–∏—Å–∫–∞ (offset) | üü° –í–∞–∂–Ω–æ |
| **DIA (60.1)** | –î–∏–∞–º–µ—Ç—Ä —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ä—Å—Ç–∏—è | üü° –í–∞–∂–Ω–æ |

**–ë–µ–∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ PCD –¥–∏—Å–∫ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –Ω–µ –ø–æ–¥–æ–π–¥–µ—Ç –∫ —Å—Ç—É–ø–∏—Ü–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—è!**

### –ü—Ä–∏–º–µ—Ä—ã –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö PCD:
- **5x114.3** - Honda, Nissan, Mazda, Mitsubishi
- **5x100** - Subaru, Volkswagen, Audi
- **4x100** - Volkswagen, Toyota, Nissan (–º–∞–ª–æ–ª–∏—Ç—Ä–∞–∂–∫–∏)
- **5x112** - Audi, Mercedes-Benz, Volkswagen
- **6x139.7** - Toyota, Nissan (–≤–Ω–µ–¥–æ—Ä–æ–∂–Ω–∏–∫–∏)

---

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:**
   - ‚úÖ –ö–ª–∏–µ–Ω—Ç—ã –≤–∏–¥—è—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π PCD
   - ‚úÖ –ú–æ–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–¥–æ–±—Ä–∞—Ç—å –¥–∏—Å–∫ –∫ –∞–≤—Ç–æ–º–æ–±–∏–ª—é
   - ‚úÖ –ò–∑–±–µ–≥–∞—é—Ç—Å—è –æ—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–∫–∞–∑–µ

2. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å:**
   - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ –Ω–∞–∑–≤–∞–Ω–∏–π
   - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –¥–µ—Å—è—Ç–∏—á–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ (6.5x16, 5x114.3)
   - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–æ—Ä—è–¥–∫–∞–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

3. **Backward compatible:**
   - ‚úÖ –ï—Å–ª–∏ PCD –Ω–µ –Ω–∞–π–¥–µ–Ω - –ø—Ä–æ—Å—Ç–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
   - ‚úÖ –ù–µ –ª–æ–º–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏
   - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å–æ —Å—Ç–∞—Ä—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

---

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

–ò–∑–º–µ–Ω–µ–Ω–∏—è —É–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã. Backend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω:

```bash
sudo supervisorctl restart backend
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Backend –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
curl http://localhost:8001/api/health
# {"status":"healthy","database":"connected"}
```

---

## üîç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### Regex –ø–∞—Ç—Ç–µ—Ä–Ω—ã:

**–†–∞–∑–º–µ—Ä –¥–∏—Å–∫–∞:**
```regex
(\d+\.?\d*)x(\d+)
```
- –ù–∞—Ö–æ–¥–∏—Ç: `7x17`, `6.5x16`, `8x18`
- –ì—Ä—É–ø–ø–∞ 1: —à–∏—Ä–∏–Ω–∞ (7, 6.5, 8)
- –ì—Ä—É–ø–ø–∞ 2: –¥–∏–∞–º–µ—Ç—Ä (17, 16, 18)

**PCD (–ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞):**
```regex
(\d)x([\d.]+)
```
- –ù–∞—Ö–æ–¥–∏—Ç: `5x114.3`, `4x100`, `6x139.7`
- –ì—Ä—É–ø–ø–∞ 1: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ä—Å—Ç–∏–π (5, 4, 6)
- –ì—Ä—É–ø–ø–∞ 2: –¥–∏–∞–º–µ—Ç—Ä –æ–∫—Ä—É–∂–Ω–æ—Å—Ç–∏ (114.3, 100, 139.7)

### –ê–ª–≥–æ—Ä–∏—Ç–º:

1. –ù–∞–π—Ç–∏ —Ä–∞–∑–º–µ—Ä (–ø–µ—Ä–≤–æ–µ `NxN`)
2. –£–¥–∞–ª–∏—Ç—å —Ä–∞–∑–º–µ—Ä –∏–∑ —Å—Ç—Ä–æ–∫–∏
3. –ù–∞–π—Ç–∏ PCD (–≤—Ç–æ—Ä–æ–µ `NxN`) –≤ –æ—Å—Ç–∞–≤—à–µ–π—Å—è —Å—Ç—Ä–æ–∫–µ
4. –ü–∞—Ä—Å–∏—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (ET, DIA)

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 2025-11-07  
**–í–µ—Ä—Å–∏—è:** 2.2  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
