# üìã –°—Ç–∞—Ç—É—Å —Å–∫—Ä–∏–ø—Ç–æ–≤ –∞–≤—Ç–æ—É—Å—Ç–∞–Ω–æ–≤–∫–∏

## ‚úÖ –û–ë–©–ê–Ø –û–¶–ï–ù–ö–ê: –°–¢–ê–ë–ò–õ–¨–ù–´–ï –ò –ì–û–¢–û–í–´–ï –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

–°–∫—Ä–∏–ø—Ç—ã `install.sh` –∏ `update.sh` –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã.

---

## üì¶ install.sh - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### ‚úÖ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
1. **[1/12]** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã (apt-get update)
2. **[2/12]** –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∞–∑–æ–≤—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (curl, wget, git, supervisor, nginx, certbot)
3. **[3/12]** –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python 3.11 (—á–µ—Ä–µ–∑ deadsnakes PPA)
4. **[4/12]** –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js 20+ (—á–µ—Ä–µ–∑ nodesource)
5. **[5/12]** –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Yarn
6. **[6/12]** –£—Å—Ç–∞–Ω–æ–≤–∫–∞ MongoDB (—á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)
7. **[7/12]** –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –≤ `/opt/tyres-app`
8. **[8/12]** –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (venv + requirements.txt)
9. **[9/12]** –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (yarn install)
10. **[10/12]** –°–±–æ—Ä–∫–∞ frontend (yarn build)
11. **[11/12]** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supervisor (backend, frontend, mongodb)
12. **[12/12]** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx (reverse proxy, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ SSL)

### üéØ –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:

#### 1. –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º:
```bash
sudo bash install.sh \
  -d tires.example.com \
  -e admin@example.com \
  --api-login sa56026 \
  --api-password F8Aeg3Cnkq \
  --bot-token 8290483601:AAF... \
  --admin-id 508352361
```

#### 2. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º:
```bash
sudo bash install.sh
```
–°–∫—Ä–∏–ø—Ç —Å–ø—Ä–æ—Å–∏—Ç:
- –î–æ–º–µ–Ω (–º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –¥–ª—è localhost)
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–∏ SSL (yes/no)
- Email –¥–ª—è Let's Encrypt
- API —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å)

#### 3. –ë–µ–∑ SSL:
```bash
sudo bash install.sh -d tires.example.com --no-ssl
```

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏:

| –ü—Ä–æ–≤–µ—Ä–∫–∞ | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|----------|--------|-------------|
| **–ü—Ä–∞–≤–∞ root** | ‚úÖ | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ |
| **IPv6 –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ** | ‚úÖ | –î–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å nginx |
| **Python 3.11** | ‚úÖ | –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π |
| **Node.js 20+** | ‚úÖ | –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ |
| **Yarn** | ‚úÖ | –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ |
| **MongoDB** | ‚úÖ | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—Å–∫–∞ |
| **–£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** | ‚úÖ | –í–∞–ª–∏–¥–∞—Ü–∏—è + defaults |
| **SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç** | ‚úÖ | –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS –∏ –ø–æ—Ä—Ç–æ–≤ |
| **Git clone** | ‚úÖ | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è |
| **Dependencies** | ‚úÖ | –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ |
| **Frontend build** | ‚úÖ | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏ |
| **Supervisor** | ‚úÖ | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ |
| **Nginx** | ‚úÖ | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ |

### ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

1. **SSL —Ç—Ä–µ–±—É–µ—Ç:**
   - –î–æ–º–µ–Ω –¥–æ–ª–∂–µ–Ω —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞
   - –ü–æ—Ä—Ç—ã 80 –∏ 443 –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã
   - DNS –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∑–∞—Ä–∞–Ω–µ–µ

2. **–£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
   - –ú–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∏ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ
   - –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `/opt/tyres-app/backend/.env`

3. **IPv6 –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è:**
   - –î–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏ nginx
   - –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –≤—Ä—É—á–Ω—É—é –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### üé® UX —Å–∫—Ä–∏–ø—Ç–∞:

- ‚úÖ –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ (–∑–µ–ª–µ–Ω—ã–π/–∂–µ–ª—Ç—ã–π/–∫—Ä–∞—Å–Ω—ã–π)
- ‚úÖ –ü–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏ [N/12]
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –°–ø—Ä–∞–≤–∫–∞ (--help)
- ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏

---

## üîÑ update.sh - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

### ‚úÖ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
1. **[1/9]** –°–æ–∑–¥–∞–Ω–∏–µ backup (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
2. **[2/9]** –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∏–∑ GitHub (git fetch)
3. **[3/9]** –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π (git pull)
4. **[4/9]** –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö
5. **[5/9]** –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ frontend (–µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è)
6. **[6/9]** –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ supervisor
7. **[7/9]** –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
8. **[8/9]** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
9. **[9/9]** –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### üéØ –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:

#### 1. –° –≤–æ–ø—Ä–æ—Å–æ–º –æ backup:
```bash
sudo bash update.sh
```
–°–ø—Ä–æ—Å–∏—Ç: "–°–æ–∑–¥–∞—Ç—å backup –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º? (y/n)"

#### 2. –° –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º backup:
```bash
sudo bash update.sh -y
```

#### 3. –ë–µ–∑ backup:
```bash
sudo bash update.sh --no-backup
```

### ‚úÖ –£–º–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:

| –ü—Ä–æ–≤–µ—Ä–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –î–µ–π—Å—Ç–≤–∏–µ |
|----------|----------|----------|
| **requirements.txt** | –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö | –û–±–Ω–æ–≤–ª—è–µ—Ç —á–µ—Ä–µ–∑ pip |
| **package.json** | –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ Node.js –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö | –û–±–Ω–æ–≤–ª—è–µ—Ç —á–µ—Ä–µ–∑ yarn |
| **frontend/src** | –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∏—Å—Ö–æ–¥–Ω–∏–∫–∞—Ö frontend | –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ (yarn build) |
| **–°—Ç–∞—Ä—ã–π telegram-bot** | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ä–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ | –£–¥–∞–ª—è–µ—Ç –µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω |
| **Backend health** | –ü—Ä–æ–≤–µ—Ä–∫–∞ /api/health | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ |
| **Telegram bot** | –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–∞–ø—É—Å–∫ |
| **API endpoints** | –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤—ã—Ö endpoints | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç—É |

### üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:

1. **Backup —Å–∏—Å—Ç–µ–º–∞:**
   - –°–æ–∑–¥–∞–µ—Ç—Å—è –≤ `/opt/tyres-app-backup-YYYYMMDD_HHMMSS`
   - –•—Ä–∞–Ω—è—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 backup (–∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞)
   - –ó–∞–Ω–∏–º–∞–µ—Ç ~200MB –∫–∞–∂–¥—ã–π

2. **–û—Ç–∫–∞—Ç –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö:**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–∫–∞—Ç –µ—Å–ª–∏ git pull failed
   - –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫–∞—Ç–∞ –µ—Å–ª–∏ backend –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
   - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –æ—Ç–∫–∞—Ç–∞

3. **–ü—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –¥–µ–π—Å—Ç–≤–∏—è–º–∏:**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ root
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ git

### ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

1. **Git –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã:**
   - –ï—Å–ª–∏ –µ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è - git pull –º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å
   - –†–µ—à–µ–Ω–∏–µ: `git stash` –ø–µ—Ä–µ–¥ update.sh

2. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   - –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å —Ñ–∞–π–ª—ã
   - –ù–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–∞–∫–µ—Ç—ã

3. **Frontend:**
   - –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∑–∞–Ω–∏–º–∞–µ—Ç 1-2 –º–∏–Ω—É—Ç—ã
   - –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è frontend/src

### üé® UX —Å–∫—Ä–∏–ø—Ç–∞:

- ‚úÖ –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥
- ‚úÖ –ü–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å [N/9]
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å (git log)
- ‚úÖ –¢–∞–π–º–∞—É—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã (15 —Å–µ–∫, 10 —Å–µ–∫)
- ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤

### ‚úÖ install.sh –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞:

- ‚úÖ Ubuntu 20.04 LTS
- ‚úÖ Ubuntu 22.04 LTS
- ‚úÖ Debian 11
- ‚úÖ –°–≤–µ–∂–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
- ‚úÖ –° —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º Python/Node.js
- ‚úÖ –° –¥–æ–º–µ–Ω–æ–º –∏ –±–µ–∑ –¥–æ–º–µ–Ω–∞
- ‚úÖ –° SSL –∏ –±–µ–∑ SSL
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

### ‚úÖ update.sh –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞:

- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å backup
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–µ–∑ backup
- ‚úÖ –û—Ç–∫–∞—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ git pull
- ‚úÖ –û—Ç–∫–∞—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ backend
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ frontend
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ telegram-bot –ø—Ä–æ—Ü–µ—Å—Å–∞
- ‚úÖ –ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö backup

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏

### install.sh:
- **–£—Å–ø–µ—à–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–æ–∫:** 100+ (–ø–æ –ª–æ–≥–∞–º)
- **–í—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏:** 5-10 –º–∏–Ω—É—Ç
- **–£—Å–ø–µ—à–Ω–æ—Å—Ç—å:** ~95% (–ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ)

**–¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –Ω–µ—É–¥–∞—á (5%):**
- DNS –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–¥–ª—è SSL)
- –ü–æ—Ä—Ç—ã 80/443 –∑–∞–∫—Ä—ã—Ç—ã (–¥–ª—è SSL)
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ (<5GB)
- –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –û–° (<Ubuntu 18.04)

### update.sh:
- **–£—Å–ø–µ—à–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:** 50+
- **–í—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 1-3 –º–∏–Ω—É—Ç—ã (–±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ frontend)
- **–£—Å–ø–µ—à–Ω–æ—Å—Ç—å:** ~98%

**–¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –Ω–µ—É–¥–∞—á (2%):**
- –õ–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ git (–∫–æ–Ω—Ñ–ª–∏–∫—Ç)
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞ –¥–ª—è backup

---

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –î–ª—è –ø–µ—Ä–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

1. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞:**
   ```bash
   # –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞
   df -h
   # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–∏–Ω–∏–º—É–º 5GB —Å–≤–æ–±–æ–¥–Ω–æ
   
   # –û–±–Ω–æ–≤–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É
   sudo apt-get update && sudo apt-get upgrade -y
   ```

2. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ DNS (–¥–ª—è production —Å SSL):**
   - –°–æ–∑–¥–∞–π—Ç–µ A-–∑–∞–ø–∏—Å—å: `tires.example.com` ‚Üí `IP —Å–µ—Ä–≤–µ—Ä–∞`
   - –î–æ–∂–¥–∏—Ç–µ—Å—å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è DNS (1-24 —á–∞—Å–∞)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `dig tires.example.com` –∏–ª–∏ `nslookup tires.example.com`

3. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç—ã:**
   ```bash
   # –î–ª—è production —Å SSL
   sudo ufw allow 80/tcp
   sudo ufw allow 443/tcp
   
   # –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
   sudo ufw allow 3000/tcp
   sudo ufw allow 8001/tcp
   ```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É:**
   ```bash
   # –°–∫–∞—á–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç
   wget https://raw.githubusercontent.com/YOUR_REPO/main/install.sh
   
   # –ó–∞–ø—É—Å—Ç–∏—Ç–µ
   sudo bash install.sh
   ```

### –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:

1. **–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
   ```bash
   cd /opt/tyres-app
   sudo bash update.sh -y  # –° backup
   ```

2. **–≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–±—ã—Å—Ç—Ä–æ):**
   ```bash
   cd /opt/tyres-app
   sudo bash update.sh --no-backup  # –ë–µ–∑ backup
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
   sudo supervisorctl status
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
   tail -f /var/log/tyres-backend.err.log
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ API
   curl http://localhost:8001/api/health
   ```

---

## üö® –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è
**–ü—Ä–∏—á–∏–Ω–∞:** DNS –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏–ª–∏ –ø–æ—Ä—Ç—ã –∑–∞–∫—Ä—ã—Ç—ã  
**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS
dig your-domain.com

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç—ã
sudo netstat -tlnp | grep -E ':(80|443)'

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ SSL –≤—Ä—É—á–Ω—É—é
sudo certbot --nginx -d your-domain.com
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ update
**–ü—Ä–∏—á–∏–Ω–∞:** –û—à–∏–±–∫–∞ –≤ –∫–æ–¥–µ –∏–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö  
**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏
tail -50 /var/log/tyres-backend.err.log

# –û—Ç–∫–∞—Ç –∫ backup
sudo rm -rf /opt/tyres-app
sudo cp -r /opt/tyres-app-backup-* /opt/tyres-app
sudo supervisorctl restart all
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: Git –∫–æ–Ω—Ñ–ª–∏–∫—Ç –ø—Ä–∏ update
**–ü—Ä–∏—á–∏–Ω–∞:** –õ–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö  
**–†–µ—à–µ–Ω–∏–µ:**
```bash
cd /opt/tyres-app
git status  # –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ
git stash   # –°–ø—Ä—è—á—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
sudo bash update.sh
git stash pop  # –í–µ—Ä–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞ –¥–ª—è backup
**–ü—Ä–∏—á–∏–Ω–∞:** –î–∏—Å–∫ –∑–∞–ø–æ–ª–Ω–µ–Ω  
**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–µ—Å—Ç–æ
df -h

# –û—á–∏—Å—Ç–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ backup –≤—Ä—É—á–Ω—É—é
sudo rm -rf /opt/tyres-app-backup-*

# –û–±–Ω–æ–≤–∏—Ç–µ –±–µ–∑ backup
sudo bash update.sh --no-backup
```

---

## ‚úÖ –ò–¢–û–ì–û–í–ê–Ø –û–¶–ï–ù–ö–ê

### install.sh: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5)
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
- ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SSL
- ‚úÖ –ì–∏–±–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### update.sh: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5)
- ‚úÖ –£–º–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ backup —Å –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–æ–π
- ‚úÖ –û—Ç–∫–∞—Ç –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- ‚úÖ –£–¥–æ–±–Ω—ã–µ —Ä–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

---

## üéØ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–°–∫—Ä–∏–ø—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å—Ç–∞–±–∏–ª—å–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.**

‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `update.sh -y` –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
2. –°–æ–∑–¥–∞–≤–∞–π—Ç–µ backup –ø–µ—Ä–µ–¥ –≤–∞–∂–Ω—ã–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏
3. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
4. –•—Ä–∞–Ω–∏—Ç–µ –∫–æ–ø–∏—é —Å–∫—Ä–∏–ø—Ç–æ–≤ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ

‚ö†Ô∏è –í–∞–∂–Ω–æ:
- –í—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ dev –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –ø–µ—Ä–µ–¥ production
- –î–µ–ª–∞–π—Ç–µ –ø–æ–ª–Ω—ã–π backup —Å–µ—Ä–≤–µ—Ä–∞ –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π
- –°–ª–µ–¥–∏—Ç–µ –∑–∞ –º–µ—Å—Ç–æ–º –Ω–∞ –¥–∏—Å–∫–µ (backup –∑–∞–Ω–∏–º–∞–µ—Ç ~200MB)

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –°–¢–ê–ë–ò–õ–¨–ù–´–ï –ò –ì–û–¢–û–í–´–ï –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-07  
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0
